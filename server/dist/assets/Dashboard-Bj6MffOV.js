import{_ as k,o as C,a as x,b as _,c as g,d as s,e as a,w as i,F as D,r as I,u as n,f as M,t as d,i as S,k as $,l as B,n as r,g as N,h,j as T,m as z,p as A,q as m,s as E,v as L,x as O,y as U,z as V}from"./index-DG_0wL7P.js";const q={class:"dashboard-container"},F={class:"hero-section shadow-glow"},P={class:"hero-actions"},j={class:"stats-row"},G={class:"stat-content"},H={class:"stat-label"},R={class:"stat-number"},J={class:"details-row"},K={class:"detail-card glass-morphism"},Q={class:"card-header border-glow"},W={class:"header-title"},X={class:"server-info-grid"},Y={class:"info-node"},Z={class:"node-icon"},ss={class:"node-data"},es={class:"node-value"},as={class:"info-node"},ts={class:"node-icon"},os={class:"node-data"},ls={class:"node-value"},ns={class:"info-node"},ds={class:"node-icon"},is={class:"info-node"},cs={class:"node-icon"},rs={class:"node-data"},_s={class:"node-value"},us={class:"detail-card glass-morphism"},vs={class:"card-header border-glow"},ps={class:"header-title"},gs={class:"resource-gauges"},hs={class:"gauge-item"},ms={class:"gauge-label"},fs={class:"percent"},bs={class:"gauge-track"},ws={class:"gauge-item"},ys={class:"gauge-label"},ks={class:"percent"},Cs={class:"gauge-track"},xs={class:"gauge-item"},Ds={class:"gauge-label"},Is={class:"percent"},Ms={class:"gauge-track"},Ss={__name:"Dashboard",setup($s){const t=z({cpu_usage:"0.0",mem_usage:"0.0",disk_usage:"0.0",uptime:0,listener_count:0,client_count:0,hostname:"-",os:"-"}),f=o=>{const e=Math.floor(o/86400),l=Math.floor(o%86400/3600),p=Math.floor(o%3600/60);return e>0?`${e}d ${l}h`:`${l}h ${p}m`},b=T(()=>[{label:"在线主机",value:t.value.client_count,icon:"Monitor",color:"#00d2ff"},{label:"活跃监听",value:t.value.listener_count,icon:"Headset",color:"#00f2fe"},{label:"持续时间",value:f(t.value.uptime),icon:"Timer",color:"#ffd000"},{label:"网络心跳",value:"Stable",icon:"Connection",color:"#a18cd1"}]),u=async()=>{try{const o=await N.get("/api/dashboard");t.value=o.data}catch(o){console.error("Dashboard error:",o)}};let v=null;return C(()=>{u(),v=setInterval(u,3e3)}),x(()=>{v&&clearInterval(v)}),(o,e)=>{const l=h("el-icon"),p=h("el-button"),w=h("el-tag");return _(),g("div",q,[s("div",F,[e[1]||(e[1]=s("div",{class:"hero-content"},[s("h1",{class:"glow-text"},"Cupcake C2 Dashboard"),s("p",{class:"hero-subtext"},"实时受控端状态监控与任务调度中心")],-1)),s("div",P,[a(p,{type:"primary",class:"premium-btn",onClick:u},{default:i(()=>[a(l,{class:"mr-1"},{default:i(()=>[a(n(A))]),_:1}),e[0]||(e[0]=m(" 刷新概览 ",-1))]),_:1})])]),s("div",j,[(_(!0),g(D,null,I(b.value,(c,y)=>(_(),g("div",{class:"stat-card glass-morphism",key:y},[s("div",{class:"icon-wrapper",style:r({background:`linear-gradient(135deg, ${c.color}, ${c.color}88)`})},[a(l,{class:"stat-icon"},{default:i(()=>[(_(),E(L(c.icon)))]),_:2},1024)],4),s("div",G,[s("div",H,d(c.label),1),s("div",R,d(c.value),1)]),s("div",{class:"stat-trend",style:r({color:c.color})},[a(l,null,{default:i(()=>[a(n(O))]),_:1}),e[2]||(e[2]=m(" 正常 ",-1))],4)]))),128))]),s("div",J,[s("div",K,[s("div",Q,[s("div",W,[a(l,{class:"mr-2"},{default:i(()=>[a(n(U))]),_:1}),e[3]||(e[3]=s("h3",null,"核心中继器状态",-1))]),a(w,{type:"success",size:"small",class:"pulse-tag"},{default:i(()=>[...e[4]||(e[4]=[m("OPERATIONAL",-1)])]),_:1})]),s("div",X,[s("div",Y,[s("div",Z,[a(n(M))]),s("div",ss,[e[5]||(e[5]=s("span",{class:"node-label"},"主机节点：",-1)),s("span",es,d(t.value.hostname),1)])]),s("div",as,[s("div",ts,[a(n(S))]),s("div",os,[e[6]||(e[6]=s("span",{class:"node-label"},"系统内核：",-1)),s("span",ls,d(t.value.os),1)])]),s("div",ns,[s("div",ds,[a(n($))]),e[7]||(e[7]=s("div",{class:"node-data"},[s("span",{class:"node-label"},"安全协议："),s("span",{class:"node-value"},"AES-256-GCM / TLS 1.3")],-1))]),s("div",is,[s("div",cs,[a(n(B))]),s("div",rs,[e[8]||(e[8]=s("span",{class:"node-label"},"活跃链路：",-1)),s("span",_s,d(t.value.client_count),1)])])])]),s("div",us,[s("div",vs,[s("div",ps,[a(l,{class:"mr-2"},{default:i(()=>[a(n(V))]),_:1}),e[9]||(e[9]=s("h3",null,"资源占用监控",-1))])]),s("div",gs,[s("div",hs,[s("div",ms,[e[10]||(e[10]=s("span",null,"CPU 负载",-1)),s("span",fs,d(t.value.cpu_usage)+"%",1)]),s("div",bs,[s("div",{class:"gauge-bar cyan-glow",style:r({width:t.value.cpu_usage+"%"})},null,4)])]),s("div",ws,[s("div",ys,[e[11]||(e[11]=s("span",null,"内存占用",-1)),s("span",ks,d(t.value.mem_usage)+"%",1)]),s("div",Cs,[s("div",{class:"gauge-bar purple-glow",style:r({width:t.value.mem_usage+"%"})},null,4)])]),s("div",xs,[s("div",Ds,[e[12]||(e[12]=s("span",null,"磁盘 I/O",-1)),s("span",Is,d(t.value.disk_usage)+"%",1)]),s("div",Ms,[s("div",{class:"gauge-bar emerald-glow",style:r({width:t.value.disk_usage+"%"})},null,4)])])])])])])}}},Ns=k(Ss,[["__scopeId","data-v-051c8daa"]]);export{Ns as default};
